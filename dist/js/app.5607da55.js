(function(){"use strict";var t={8728:function(t,e,r){var n=r(9242),o=r(3396),a=r(7139);function c(t,e,r,n,c,i){const s=(0,o.up)("router-link"),u=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o.Wm)(s,{class:(0,a.C_)(["nav",{active:"Shop"===t.$route.name}]),to:"/shop"},{default:(0,o.w5)((()=>[(0,o.Uk)("Shop")])),_:1},8,["class"]),(0,o.Uk)(" | "),(0,o.Wm)(s,{class:(0,a.C_)(["nav",{active:"Cart"===t.$route.name}]),to:"/cart"},{default:(0,o.w5)((()=>[(0,o.Uk)("Cart")])),_:1},8,["class"]),(0,o.Wm)(u)],64)}var i={created(){this.$store.commit("loadCart")}},s=r(89);const u=(0,s.Z)(i,[["render",c]]);var l=u,d=r(2483);const m=(0,o._)("h1",null,"Winter Shop",-1),p={class:"shop"};function f(t,e,r,n,a,c){const i=(0,o.up)("ProductItem");return(0,o.wg)(),(0,o.iD)("div",null,[m,(0,o._)("div",p,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(a.products,(t=>((0,o.wg)(),(0,o.j4)(i,{key:t.id,item:t},null,8,["item"])))),128))])])}const v={class:"item"},h={class:"price"},_={class:"category"},g={class:"summary"};function w(t,e,r,c,i,s){return(0,o.wg)(),(0,o.iD)("div",v,[(0,o._)("h2",null,(0,a.zw)(r.item.id),1),(0,o._)("h1",null,(0,a.zw)(r.item.name),1),(0,o._)("div",h,"$"+(0,a.zw)(r.item.price),1),(0,o._)("div",_,[(0,o._)("b",null,(0,a.zw)(r.item.category),1)]),(0,o._)("div",g,(0,a.zw)(r.item.summary),1),(0,o._)("button",{class:"btn",onClick:e[0]||(e[0]=(0,n.iM)((t=>s.addToCart(r.item)),["prevent"]))},"add to cart")])}var y={props:["item"],methods:{addToCart(t){this.$store.commit("addToCart",t)}}};const C=(0,s.Z)(y,[["render",w],["__scopeId","data-v-2bd0b8da"]]);var b=C,k=r(70),I={name:"App",data(){return{products:[]}},methods:{loadProducts:function(){(0,k.Z)({method:"get",url:"/dist/data/products2.json"}).then((t=>{console.log(t),this.products=t.data.products}))}},mounted(){this.loadProducts()},components:{ProductItem:b}};const O=(0,s.Z)(I,[["render",f]]);var j=O;const q=(0,o._)("h1",null,"Your cart",-1),z={cellspacing:"0"};function T(t,e,r,n,c,i){const s=(0,o.up)("CartItem");return(0,o.wg)(),(0,o.iD)("div",null,[q,(0,o._)("table",z,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(i.cartItems,(t=>((0,o.wg)(),(0,o.j4)(s,{key:t.id,item:t},null,8,["item"])))),128))]),(0,o._)("div",null,"Total: "+(0,a.zw)(i.total||0),1)])}const $={class:"item"},x={class:"id"},D={class:"price"},S={class:"category"},P={class:"qty"};function F(t,e,r,c,i,s){return(0,o.wg)(),(0,o.iD)("tr",$,[(0,o._)("td",x,[(0,o._)("h3",null,(0,a.zw)(r.item.id),1)]),(0,o._)("td",null,[(0,o._)("h3",null,(0,a.zw)(r.item.name),1)]),(0,o._)("td",D,(0,a.zw)(r.item.price),1),(0,o._)("td",S,(0,a.zw)(r.item.category),1),(0,o._)("td",P,[(0,o._)("button",{onClick:e[0]||(e[0]=t=>s.decrease(r.item))}," - "),(0,o.Uk)(" "+(0,a.zw)(r.item.qty)+" ",1),(0,o._)("button",{onClick:e[1]||(e[1]=t=>s.increase(r.item))}," + ")]),(0,o._)("td",null,[(0,o._)("button",{class:"btn",onClick:e[2]||(e[2]=(0,n.iM)((t=>s.removeFromCart(r.item)),["prevent"]))},"remove item")])])}var Z={props:["item"],methods:{decrease(t){this.$store.commit("decrease",t)},increase(t){this.$store.commit("increase",t)},removeFromCart(t){this.$store.commit("removeFromCart",t)}}};const H=(0,s.Z)(Z,[["render",F],["__scopeId","data-v-3da9e815"]]);var M=H,U={computed:{cartItems(){return this.$store.getters.cartItems},total(){return this.$store.getters.updateTotal}},components:{CartItem:M}};const W=(0,s.Z)(U,[["render",T]]);var Y=W;const J=[{path:"/",name:"Home",component:j},{path:"/shop",name:"Shop",component:j},{path:"/cart",name:"Cart",component:Y}],K=(0,d.p7)({history:(0,d.PO)(),routes:J});var N=K,A=(r(7658),r(65));function E(t){localStorage.setItem("cart",JSON.stringify(t))}var B=(0,A.MT)({state:{cart:[]},getters:{cartItems:t=>t.cart,updateTotal(t){if(t.cart.length>0){let e=t.cart.map((function(t){let e=t.price*t.qty;return e})).reduce((function(t,e){return t+e}));return e}}},mutations:{addToCart(t,e){let r=t.cart.findIndex((t=>t.id===e.id));if(console.log(r),r>=0)t.cart[r].qty=t.cart[r].qty+1;else{let r=e;r.qty=1,t.cart.push(r)}E(t.cart)},removeFromCart(t,e){if(t.cart.length>0&&confirm("Delete this item?")){let r=t.cart.findIndex((t=>t.id===e.id));t.cart.splice(r,1),E(t.cart)}},increase(t,e){let r=t.cart.findIndex((t=>t.id===e.id));t.cart[r].qty=t.cart[r].qty+1,E(t.cart)},decrease(t,e){let r=t.cart.findIndex((t=>t.id===e.id));t.cart[r].qty>1?t.cart[r].qty=t.cart[r].qty-1:this.commit("removeFromCart",e),E(t.cart)},loadCart(t){const e=localStorage.getItem("cart");e&&(t.cart=JSON.parse(e))}}});(0,n.ri)(l).use(B).use(N).mount("#app")}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,n,o,a){if(!n){var c=1/0;for(l=0;l<t.length;l++){n=t[l][0],o=t[l][1],a=t[l][2];for(var i=!0,s=0;s<n.length;s++)(!1&a||c>=a)&&Object.keys(r.O).every((function(t){return r.O[t](n[s])}))?n.splice(s--,1):(i=!1,a<c&&(c=a));if(i){t.splice(l--,1);var u=o();void 0!==u&&(e=u)}}return e}a=a||0;for(var l=t.length;l>0&&t[l-1][2]>a;l--)t[l]=t[l-1];t[l]=[n,o,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var o,a,c=n[0],i=n[1],s=n[2],u=0;if(c.some((function(e){return 0!==t[e]}))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(s)var l=s(r)}for(e&&e(n);u<c.length;u++)a=c[u],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(l)},n=self["webpackChunkvue_project"]=self["webpackChunkvue_project"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(8728)}));n=r.O(n)})();
//# sourceMappingURL=app.5607da55.js.map